## アーキテクチャに関する一般的な原則

### 関心の分離
すべてのコードを1つのActivityまたはFragmentに記述するのはよくある間違いです。  
これらのUIベースのクラスには、UIやOSとのやり取りを処理するロジックのみを含めます。  
これらのクラスをできる限りシンプルに保つことで、ライフサイクルに関連する多くの問題を回避することができます。

### UIをモデルで操作する
もう1つの重要な原則は、UIをモデルで操作することであり、永続モデルをおすすめします。  
モデルとは、アプリのデータを処理するコンポーネントです。  
モデルはアプリのViewオブジェクトやアプリコンポーネントから独立しているため、アプリのライフサイクルや関連する問題の影響を受けません。  
データの管理責任が明確に定義されたモデルクラスを基盤としてアプリを作成することで、アプリのテストのしやすさと一貫性を向上させることができます。

**アプリ アーキテクチャ ガイド**  
https://developer.android.com/jetpack/guide?s=09

## Androidアプリの推奨アーキテクチャ
共通のアーキテクチャの原則を考慮すると、各アプリケーションは少なくとも2つのレイヤーを持つ必要があります。
矢印はクラス間の依存を表しており、例えばドメイン層はデータ層に依存します。

- アプリケーションのデータをスクリーンに表示するUI層
- ビジネスロジックを含み、アプリケーションデータを公開するデータ層
- UI層とデータ層間のインタラクションを簡略化し再利用するためのドメイン層(必要であれば)
<img width="600" alt="スクリーンショット 2020-11-24 16 38 44" src="https://user-images.githubusercontent.com/16067422/146178460-c53bf534-7c27-4256-9ccf-c2a49e75bbfb.png">

### UI層
UI層の役割としてはアプリケーションのデータをスクリーンに表示することであり、データが変更するたびに表示に変更を反映する必要があります。
UI層は以下の2つから成り立っています。
- データをスクリーンに描画する`UI elements` ViewやJetpack Composeを使用する
- View Modelのような`State holders` データを保持したり、UI層にそれを公開したりロジックを処理する
<img width="600" alt="スクリーンショット 2020-11-24 16 38 44" src="https://user-images.githubusercontent.com/16067422/146179702-88574702-3167-4031-8f58-63100e4f0ca5.png">

詳細は以下  
https://developer.android.com/jetpack/guide/ui-layer

### データ層

### ドメイン層


## Androidアプリの一般的なアーキテクチャ
<img width="600" alt="スクリーンショット 2020-11-24 16 38 44" src="https://user-images.githubusercontent.com/16067422/100062987-cf5c9500-2e73-11eb-8550-d498de322e3e.png">
